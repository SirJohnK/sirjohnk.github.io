---
layout: single
title: "MAUI Snack - Get ANY Resource Dictionary Value in Code Behind!"
categories:
  - Coding
tags:
  - .NET
  - MAUI
  - Resource Dictionary
header:
  image: "/assets/images/net-maui.jpg"
  teaser: "/assets/images/net-maui.jpg"
---

[Resource Dictionaries][resource-dictionaries] enables us to create reusable resources in our XAML files or in code behind! To resolve and access `Resource Dictionary ResourcesÂ´ in code behind, we can access it, in some cases, by using the Resource `Key` name as index in the `Resource Dictionary`:
```c#
```

Solution:
```c#
public static class ResourcesUtility
{
    private static T? GetResource<T>(object? resource)
    {
        //Check resource type
        switch (resource)
        {
            case OnPlatform<T> value:
                //Get platform specific resource
                return GetResource<T>(value.Platforms?.FirstOrDefault(p => p.Platform.Contains($"{DeviceInfo.Platform}"))?.Value);

            case OnIdiom<T> value:
                {
                    //Get idiom specific resource
                    if (DeviceInfo.Idiom == DeviceIdiom.Desktop)
                        return value.Desktop;
                    if (DeviceInfo.Idiom == DeviceIdiom.Phone)
                        return value.Phone;
                    if (DeviceInfo.Idiom == DeviceIdiom.Tablet)
                        return value.Tablet;
                    if (DeviceInfo.Idiom == DeviceIdiom.TV)
                        return value.TV;
                    if (DeviceInfo.Idiom == DeviceIdiom.Watch)
                        return value.Watch;
                    else
                        return value.Default;
                }

            case DynamicResource value:
                //Get dynamic resource
                return FindResource<T>(value.Key);

            case string value:
                {
                    //Attempt to cast to resource type or return default
                    try
                    {
                        var converter = TypeDescriptor.GetConverter(typeof(T));
                        if (converter?.CanConvertFrom(typeof(string)) ?? false)
                        {
                            // Cast ConvertFromString(string text) : object to (T)
                            return (T?)converter.ConvertFromString(value);
                        }
                        return default;
                    }
                    catch
                    {
                        return default;
                    }
                }

            case T value:
                //Return found resource value
                return value;

            default:
                //Return default resource value
                return default;
        }
    }

    public static T? FindResource<T>(string resourceKey)
    {
        //Verify parameter
        if (string.IsNullOrWhiteSpace(resourceKey))
            return default;

        //Attempt to find resource
        if (Application.Current?.Resources.TryGetValue(resourceKey, out var resource) ?? false)
            //Get resource
            return GetResource<T>(resource);
        else
            //If nothing found, return default
            return default;
    }
}
```

[resource-dictionaries]: https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/resource-dictionaries
